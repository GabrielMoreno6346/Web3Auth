{"version":3,"file":"web3authWagmiConnector.cjs.js","mappings":"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","sources":["webpack://@web3auth/web3auth-wagmi-connector/webpack/bootstrap","webpack://@web3auth/web3auth-wagmi-connector/webpack/runtime/compat get default export","webpack://@web3auth/web3auth-wagmi-connector/webpack/runtime/define property getters","webpack://@web3auth/web3auth-wagmi-connector/webpack/runtime/hasOwnProperty shorthand","webpack://@web3auth/web3auth-wagmi-connector/webpack/runtime/make namespace object","webpack://@web3auth/web3auth-wagmi-connector/external commonjs2 \"@babel/runtime/helpers/defineProperty\"","webpack://@web3auth/web3auth-wagmi-connector/external commonjs2 \"@wagmi/core\"","webpack://@web3auth/web3auth-wagmi-connector/external commonjs2 \"@web3auth/base\"","webpack://@web3auth/web3auth-wagmi-connector/external commonjs2 \"@web3auth/core\"","webpack://@web3auth/web3auth-wagmi-connector/external commonjs2 \"@web3auth/openlogin-adapter\"","webpack://@web3auth/web3auth-wagmi-connector/external commonjs2 \"@web3auth/ui\"","webpack://@web3auth/web3auth-wagmi-connector/external commonjs \"ethers\"","webpack://@web3auth/web3auth-wagmi-connector/external commonjs \"ethers/lib/utils\"","webpack://@web3auth/web3auth-wagmi-connector/external commonjs2 \"loglevel\"","webpack://@web3auth/web3auth-wagmi-connector/./src/lib/connector.ts","webpack://@web3auth/web3auth-wagmi-connector/./src/index.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@babel/runtime/helpers/defineProperty\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@wagmi/core\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@web3auth/base\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@web3auth/core\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@web3auth/openlogin-adapter\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"@web3auth/ui\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"ethers\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"ethers/lib/utils\");","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"loglevel\");","import { Chain, Connector, ConnectorData, normalizeChainId, UserRejectedRequestError } from \"@wagmi/core\";\nimport {\n  ADAPTER_EVENTS,\n  ADAPTER_STATUS,\n  CHAIN_NAMESPACES,\n  CustomChainConfig,\n  getChainConfig,\n  SafeEventEmitterProvider,\n  WALLET_ADAPTER_TYPE,\n  WALLET_ADAPTERS,\n} from \"@web3auth/base\";\nimport { Web3AuthCore } from \"@web3auth/core\";\nimport { OpenloginAdapter } from \"@web3auth/openlogin-adapter\";\nimport LoginModal, { getAdapterSocialLogins, LOGIN_MODAL_EVENTS, OPENLOGIN_PROVIDERS } from \"@web3auth/ui\";\nimport { ethers, Signer } from \"ethers\";\nimport { getAddress } from \"ethers/lib/utils\";\nimport log from \"loglevel\";\n\nimport { Options } from \"./interfaces\";\n\nconst IS_SERVER = typeof window === \"undefined\";\n\nexport class Web3AuthConnector extends Connector {\n  ready = !IS_SERVER;\n\n  readonly id = \"web3Auth\";\n\n  readonly name = \"web3Auth\";\n\n  provider: SafeEventEmitterProvider;\n\n  web3AuthInstance?: Web3AuthCore;\n\n  isModalOpen = false;\n\n  web3AuthOptions: Options;\n\n  private loginModal: LoginModal;\n\n  private socialLoginAdapter: OpenloginAdapter;\n\n  constructor(config: { chains?: Chain[]; options: Options }) {\n    super(config);\n    this.web3AuthOptions = config.options;\n    const chainId = config.options.chainId ? parseInt(config.options.chainId, 16) : 1;\n    const chainConfig = this.chains.filter((x) => x.id === chainId);\n\n    const defaultChainConfig = getChainConfig(CHAIN_NAMESPACES.EIP155, config.options.chainId || \"0x1\");\n    let finalChainConfig: CustomChainConfig = {\n      chainNamespace: CHAIN_NAMESPACES.EIP155,\n      ...defaultChainConfig,\n    };\n    if (chainConfig.length > 0) {\n      finalChainConfig = {\n        ...finalChainConfig,\n        chainNamespace: CHAIN_NAMESPACES.EIP155,\n        chainId: config.options.chainId || \"0x1\",\n        rpcTarget: chainConfig[0].rpcUrls.default,\n        displayName: chainConfig[0].name,\n        tickerName: chainConfig[0].nativeCurrency?.name,\n        ticker: chainConfig[0].nativeCurrency?.symbol,\n        blockExplorer: chainConfig[0]?.blockExplorers.default?.url,\n      };\n    }\n    this.web3AuthInstance = new Web3AuthCore({\n      clientId: config.options.clientId,\n      enableLogging: config.options.enableLogging,\n      storageKey: config.options.storageKey,\n      chainConfig: {\n        chainNamespace: CHAIN_NAMESPACES.EIP155,\n        ...finalChainConfig,\n      },\n    });\n\n    this.socialLoginAdapter = new OpenloginAdapter({\n      adapterSettings: {\n        ...config.options,\n      },\n      chainConfig: finalChainConfig,\n    });\n\n    this.web3AuthInstance.configureAdapter(this.socialLoginAdapter);\n\n    this.loginModal = new LoginModal({\n      theme: this.options.uiConfig?.theme,\n      appLogo: this.options.uiConfig?.appLogo || \"\",\n      version: \"\",\n      adapterListener: this.web3AuthInstance,\n      displayErrorsOnModal: this.options.displayErrorsOnModal,\n    });\n\n    this.subscribeToLoginModalEvents();\n  }\n\n  async connect(): Promise<Required<ConnectorData>> {\n    try {\n      await this.loginModal.initModal();\n      this.loginModal.addSocialLogins(\n        WALLET_ADAPTERS.OPENLOGIN,\n        getAdapterSocialLogins(WALLET_ADAPTERS.OPENLOGIN, this.socialLoginAdapter, this.options.uiConfig?.loginMethodConfig),\n        this.options.uiConfig?.loginMethodsOrder || OPENLOGIN_PROVIDERS\n      );\n      if (this.web3AuthInstance.status !== ADAPTER_STATUS.READY) {\n        await this.web3AuthInstance.init();\n      }\n\n      // Check if there is a user logged in\n      const isLoggedIn = await this.isAuthorized();\n\n      // if there is a user logged in, return the user\n      if (isLoggedIn) {\n        const provider = await this.getProvider();\n\n        return {\n          provider,\n          chain: {\n            id: 0,\n            unsupported: false,\n          },\n          account: await this.getAccount(),\n        };\n      }\n\n      this.loginModal.open();\n      const elem = document.getElementById(\"w3a-container\");\n      elem.style.zIndex = \"10000000000\";\n      return await new Promise((resolve, reject) => {\n        this.web3AuthInstance.once(ADAPTER_EVENTS.CONNECTED, async () => {\n          const signer = await this.getSigner();\n          const account = await signer.getAddress();\n          const provider = await this.getProvider();\n\n          if (provider.on) {\n            provider.on(\"accountsChanged\", this.onAccountsChanged);\n            provider.on(\"chainChanged\", this.onChainChanged);\n            provider.on(\"disconnect\", this.onDisconnect);\n          }\n\n          return resolve({\n            account,\n            chain: {\n              id: 0,\n              unsupported: false,\n            },\n            provider,\n          });\n        });\n        this.web3AuthInstance.once(ADAPTER_EVENTS.ERRORED, (err: unknown) => {\n          log.error(\"error while connecting\", err);\n          return reject(err);\n        });\n      });\n    } catch (error) {\n      log.error(\"error while connecting\", error);\n      throw new UserRejectedRequestError(\"Something went wrong\");\n    }\n  }\n\n  async getAccount(): Promise<string> {\n    const provider = new ethers.providers.Web3Provider(await this.getProvider());\n    const signer = provider.getSigner();\n    const account = await signer.getAddress();\n    return account;\n  }\n\n  async getProvider() {\n    if (this.provider) {\n      return this.provider;\n    }\n    this.provider = this.web3AuthInstance.provider;\n    return this.provider;\n  }\n\n  async getSigner(): Promise<Signer> {\n    const provider = new ethers.providers.Web3Provider(await this.getProvider());\n    const signer = provider.getSigner();\n    return signer;\n  }\n\n  async isAuthorized() {\n    try {\n      const account = await this.getAccount();\n      return !!(account && this.provider);\n    } catch {\n      return false;\n    }\n  }\n\n  async getChainId(): Promise<number> {\n    try {\n      const networkOptions = this.socialLoginAdapter.chainConfigProxy;\n      if (typeof networkOptions === \"object\") {\n        const chainID = networkOptions.chainId;\n        if (chainID) {\n          return normalizeChainId(chainID);\n        }\n      }\n      throw new Error(\"Chain ID is not defined\");\n    } catch (error) {\n      log.error(\"error\", error);\n      throw error;\n    }\n  }\n\n  async disconnect(): Promise<void> {\n    await this.web3AuthInstance.logout();\n    this.provider = null;\n  }\n\n  protected onAccountsChanged(accounts: string[]): void {\n    if (accounts.length === 0) this.emit(\"disconnect\");\n    else this.emit(\"change\", { account: getAddress(accounts[0]) });\n  }\n\n  protected onChainChanged(chainId: string | number): void {\n    const id = normalizeChainId(chainId);\n    const unsupported = this.isChainUnsupported(id);\n    this.emit(\"change\", { chain: { id, unsupported } });\n  }\n\n  protected onDisconnect(): void {\n    this.emit(\"disconnect\");\n  }\n\n  private subscribeToLoginModalEvents(): void {\n    this.loginModal.on(LOGIN_MODAL_EVENTS.LOGIN, async (params: { adapter: WALLET_ADAPTER_TYPE; loginParams: unknown }) => {\n      try {\n        await this.web3AuthInstance.connectTo<unknown>(params.adapter, params.loginParams);\n      } catch (error) {\n        log.error(`Error while connecting to adapter: ${params.adapter}`, error);\n      }\n    });\n\n    this.loginModal.on(LOGIN_MODAL_EVENTS.DISCONNECT, async () => {\n      try {\n        await this.disconnect();\n      } catch (error) {\n        log.error(`Error while disconnecting`, error);\n      }\n    });\n  }\n}\n","export * from \"./lib/connector\";\n"],"names":["Connector","normalizeChainId","UserRejectedRequestError","ADAPTER_EVENTS","ADAPTER_STATUS","CHAIN_NAMESPACES","getChainConfig","WALLET_ADAPTERS","Web3AuthCore","OpenloginAdapter","LoginModal","getAdapterSocialLogins","LOGIN_MODAL_EVENTS","OPENLOGIN_PROVIDERS","ethers","getAddress","log","IS_SERVER","window","Web3AuthConnector","constructor","config","web3AuthOptions","options","chainId","parseInt","chainConfig","chains","filter","x","id","defaultChainConfig","EIP155","finalChainConfig","chainNamespace","length","rpcTarget","rpcUrls","default","displayName","name","tickerName","nativeCurrency","ticker","symbol","blockExplorer","blockExplorers","url","web3AuthInstance","clientId","enableLogging","storageKey","socialLoginAdapter","adapterSettings","configureAdapter","loginModal","theme","uiConfig","appLogo","version","adapterListener","displayErrorsOnModal","subscribeToLoginModalEvents","connect","initModal","addSocialLogins","OPENLOGIN","loginMethodConfig","loginMethodsOrder","status","READY","init","isLoggedIn","isAuthorized","provider","getProvider","chain","unsupported","account","getAccount","open","elem","document","getElementById","style","zIndex","Promise","resolve","reject","once","CONNECTED","signer","getSigner","on","onAccountsChanged","onChainChanged","onDisconnect","ERRORED","err","error","providers","Web3Provider","getChainId","networkOptions","chainConfigProxy","chainID","Error","disconnect","logout","accounts","emit","isChainUnsupported","LOGIN","params","connectTo","adapter","loginParams","DISCONNECT"],"sourceRoot":""}